<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotspot - Always-Crawling Search Engine</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”¥</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --hotspot-red: #ea4335;
            --hotspot-blue: #4285f4;
            --hotspot-yellow: #fbbc05;
            --hotspot-green: #34a853;
            --bg-color: #ffffff;
            --text-color: #202124;
            --border-color: #dfe1e5;
            --hover-color: #f8f9fa;
            --crawler-active: #34a853;
            --crawler-inactive: #ea4335;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, Arial, sans-serif;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Always-on Crawler Indicator */
        .crawler-indicator {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--hotspot-green), var(--hotspot-blue));
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            z-index: 1001;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 8px;
            animation: pulse 2s infinite;
        }
        
        .crawler-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #4caf50;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            font-size: 14px;
            border-bottom: 1px solid var(--border-color);
            margin-top: 40px;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 25px;
        }
        
        .header-right {
            display: flex;
            align-items: center;
        }
        
        .nav-link {
            color: var(--text-color);
            text-decoration: none;
            padding: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-link:hover {
            background-color: var(--hover-color);
            border-radius: 4px;
        }
        
        .alpha-account {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 20px;
            transition: background-color 0.2s;
        }
        
        .alpha-account:hover {
            background-color: var(--hover-color);
        }
        
        .alpha-badge {
            background: linear-gradient(135deg, var(--hotspot-red), var(--hotspot-blue));
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }
        
        .account-info {
            display: flex;
            flex-direction: column;
        }
        
        .account-name {
            font-weight: 500;
            font-size: 14px;
        }
        
        .account-type {
            font-size: 12px;
            color: #5f6368;
        }
        
        .account-menu {
            position: absolute;
            top: 80px;
            right: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            width: 280px;
            z-index: 1000;
            display: none;
            overflow: hidden;
        }
        
        .account-menu.active {
            display: block;
        }
        
        .menu-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .menu-header .alpha-badge {
            width: 48px;
            height: 48px;
            font-size: 20px;
        }
        
        .menu-header .account-name {
            font-size: 16px;
        }
        
        .menu-item {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            text-decoration: none;
            color: var(--text-color);
        }
        
        .menu-item:hover {
            background-color: var(--hover-color);
        }
        
        .menu-item i {
            width: 20px;
            color: #5f6368;
        }
        
        .menu-divider {
            height: 1px;
            background-color: var(--border-color);
            margin: 8px 0;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 100px;
        }
        
        .logo {
            font-size: 90px;
            margin-bottom: 30px;
            display: flex;
        }
        
        .logo span:nth-child(1) { color: var(--hotspot-red); }
        .logo span:nth-child(2) { color: var(--hotspot-blue); }
        .logo span:nth-child(3) { color: var(--hotspot-yellow); }
        .logo span:nth-child(4) { color: var(--hotspot-green); }
        .logo span:nth-child(5) { color: var(--hotspot-red); }
        .logo span:nth-child(6) { color: var(--hotspot-blue); }
        .logo span:nth-child(7) { color: var(--hotspot-yellow); }
        
        /* Search Box */
        .search-container {
            width: 100%;
            max-width: 650px;
            margin-bottom: 30px;
        }
        
        .search-box {
            width: 100%;
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 15px 20px;
            font-size: 16px;
            outline: none;
            display: flex;
            align-items: center;
            transition: box-shadow 0.3s;
        }
        
        .search-box:focus-within {
            box-shadow: 0 1px 6px rgba(32,33,36,0.28);
        }
        
        .search-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 16px;
            margin: 0 15px;
        }
        
        .search-icon {
            color: #9aa0a6;
            width: 20px;
        }
        
        .mic-icon {
            color: #4285f4;
            width: 24px;
            cursor: pointer;
        }
        
        /* Buttons */
        .buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .search-btn, .crawl-btn {
            background-color: var(--hover-color);
            border: 1px solid transparent;
            border-radius: 4px;
            color: var(--text-color);
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .search-btn:hover, .crawl-btn:hover {
            border: 1px solid var(--border-color);
            box-shadow: 0 1px 1px rgba(0,0,0,0.1);
        }
        
        .crawl-btn {
            background-color: #f0f8ff;
            color: var(--hotspot-blue);
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 25px;
            margin-top: 30px;
            width: 90%;
            max-width: 1200px;
        }
        
        .admin-title {
            color: var(--hotspot-red);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
        }
        
        .tab.active {
            border-bottom: 3px solid var(--hotspot-blue);
            color: var(--hotspot-blue);
        }
        
        /* Auto-Crawler Section */
        .auto-crawler-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .crawler-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .control-card {
            background-color: var(--hover-color);
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--hotspot-blue);
        }
        
        .control-card.red {
            border-left-color: var(--hotspot-red);
        }
        
        .control-card.green {
            border-left-color: var(--hotspot-green);
        }
        
        .control-card.yellow {
            border-left-color: var(--hotspot-yellow);
        }
        
        .control-title {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .control-desc {
            font-size: 14px;
            color: #5f6368;
            margin-bottom: 15px;
        }
        
        .control-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            font-size: 14px;
        }
        
        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #4caf50;
            animation: pulse 2s infinite;
        }
        
        .status-indicator.inactive {
            background-color: #f44336;
            animation: none;
        }
        
        .storage-status {
            margin-top: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        
        .storage-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .storage-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--hotspot-blue), var(--hotspot-green));
            border-radius: 5px;
            transition: width 0.3s;
        }
        
        .url-input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background-color: var(--hotspot-blue);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #3367d6;
        }
        
        .btn-secondary {
            background-color: #f1f3f4;
            color: var(--text-color);
        }
        
        .btn-secondary:hover {
            background-color: #e8eaed;
        }
        
        .btn-danger {
            background-color: var(--hotspot-red);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #d23c30;
        }
        
        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: var(--hotspot-blue);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: #5f6368;
        }
        
        /* Indexed URLs */
        .indexed-urls-container {
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        
        .url-item {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
            word-break: break-all;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .url-item:last-child {
            border-bottom: none;
        }
        
        .url-domain {
            font-weight: 500;
            color: var(--hotspot-blue);
        }
        
        .url-stats {
            font-size: 12px;
            color: #5f6368;
            display: flex;
            gap: 10px;
        }
        
        /* Live Crawling Feed */
        .crawling-feed {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: #f5f5f5;
            padding: 15px;
        }
        
        .crawl-log-item {
            padding: 10px;
            margin-bottom: 8px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid var(--hotspot-blue);
            font-size: 13px;
            animation: slideIn 0.3s ease-out;
        }
        
        .crawl-log-item.success {
            border-left-color: var(--hotspot-green);
        }
        
        .crawl-log-item.error {
            border-left-color: var(--hotspot-red);
        }
        
        .crawl-log-item.info {
            border-left-color: var(--hotspot-blue);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Loading */
        .loading {
            text-align: center;
            margin: 20px 0;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--hotspot-blue);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Results Page */
        .results-header {
            width: 100%;
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: white;
            position: sticky;
            top: 40px;
            z-index: 100;
        }
        
        .results-logo {
            font-size: 24px;
            display: flex;
            cursor: pointer;
        }
        
        .results-search-container {
            width: 60%;
            max-width: 600px;
        }
        
        .results-main {
            width: 100%;
            max-width: 650px;
            padding: 30px;
            margin: 0 auto;
        }
        
        .result-stats {
            color: #70757a;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .result-item {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 8px;
            background: white;
            border: 1px solid var(--border-color);
        }
        
        .result-url {
            color: #202124;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .result-title {
            color: #1a0dab;
            font-size: 20px;
            text-decoration: none;
            margin-bottom: 8px;
            display: block;
        }
        
        .result-title:hover {
            text-decoration: underline;
        }
        
        .result-description {
            color: #4d5156;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .result-meta {
            font-size: 12px;
            color: #9aa0a6;
            margin-top: 10px;
            display: flex;
            gap: 15px;
        }
        
        /* Footer */
        .footer {
            background-color: var(--hover-color);
            padding: 20px;
            margin-top: auto;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .footer-section {
            margin-bottom: 20px;
        }
        
        .footer-section h4 {
            color: var(--hotspot-red);
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .footer-links a {
            color: #5f6368;
            text-decoration: none;
            font-size: 14px;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        .copyright {
            text-align: center;
            color: #70757a;
            font-size: 13px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-content {
                padding-top: 80px;
            }
            
            .logo {
                font-size: 60px;
            }
            
            .header {
                margin-top: 50px;
            }
            
            .crawler-indicator {
                font-size: 10px;
                padding: 6px 15px;
            }
            
            .crawler-controls {
                grid-template-columns: 1fr;
            }
            
            .results-search-container {
                width: 80%;
            }
        }
        
        @media (max-width: 480px) {
            .header-left {
                gap: 10px;
            }
            
            .account-name {
                display: none;
            }
            
            .account-type {
                display: none;
            }
            
            .logo {
                font-size: 50px;
            }
        }
    </style>
</head>
<body>
    <!-- Always-on Crawler Indicator -->
    <div class="crawler-indicator">
        <div class="crawler-status" id="crawler-status-indicator"></div>
        <span>Hotspot Crawler: <span id="crawler-status-text">RUNNING</span></span>
        <span id="crawler-stats">Indexed: <span id="crawler-count">0</span> sites</span>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <div class="alpha-account" id="account-toggle">
                <div class="alpha-badge">Î±</div>
                <div class="account-info">
                    <div class="account-name">Alpha User</div>
                    <div class="account-type">Administrator</div>
                </div>
                <i class="fas fa-chevron-down"></i>
            </div>
            
            <a href="#" class="nav-link" id="home-link">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#" class="nav-link" id="search-link">
                <i class="fas fa-search"></i>
                <span>Search</span>
            </a>
            <a href="#" class="nav-link" id="admin-link">
                <i class="fas fa-cog"></i>
                <span>Admin Panel</span>
            </a>
        </div>
        
        <div class="header-right">
            <a href="#" class="nav-link">
                <i class="fas fa-history"></i>
                <span>History</span>
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-database"></i>
                <span>Storage</span>
            </a>
        </div>
        
        <!-- Account Menu -->
        <div class="account-menu" id="account-menu">
            <div class="menu-header">
                <div class="alpha-badge">Î±</div>
                <div>
                    <div class="account-name">Alpha User</div>
                    <div class="account-type">Administrator â€¢ alpha@hotspot.com</div>
                </div>
            </div>
            
            <div class="menu-item">
                <i class="fas fa-user-circle"></i>
                <span>My Alpha Account</span>
            </div>
            <div class="menu-item">
                <i class="fas fa-database"></i>
                <span>Crawler Statistics</span>
            </div>
            <div class="menu-item">
                <i class="fas fa-key"></i>
                <span>API Keys</span>
            </div>
            
            <div class="menu-divider"></div>
            
            <div class="menu-item" id="toggle-crawler">
                <i class="fas fa-power-off"></i>
                <span>Stop Auto-Crawler</span>
            </div>
            
            <div class="menu-divider"></div>
            
            <div class="menu-item">
                <i class="fas fa-sign-out-alt"></i>
                <span>Sign out</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="main-content">
        <!-- Home Page -->
        <div class="logo" id="main-logo">
            <span>H</span>
            <span>o</span>
            <span>t</span>
            <span>s</span>
            <span>p</span>
            <span>o</span>
            <span>t</span>
        </div>
        
        <div class="search-container">
            <div class="search-box">
                <svg class="search-icon" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input type="text" class="search-input" id="search-input" placeholder="Search Hotspot or type a URL">
                <svg class="mic-icon" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="none" d="M0 0h24v24H0z"></path><path fill="#4285f4" d="M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.41 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path>
                </svg>
            </div>
        </div>
        
        <div class="buttons">
            <button class="search-btn" id="search-btn">Hotspot Search</button>
            <button class="crawl-btn" id="live-crawl-btn">View Live Crawling</button>
        </div>
        
        <!-- Admin Panel -->
        <div class="admin-panel" id="admin-panel">
            <h2 class="admin-title">
                <i class="fas fa-spider"></i>
                Hotspot Persistent Crawler System
            </h2>
            
            <div class="tabs">
                <div class="tab active" data-tab="live-crawler">Live Crawler</div>
                <div class="tab" data-tab="indexed-data">Indexed Data</div>
                <div class="tab" data-tab="crawler-controls">Crawler Controls</div>
                <div class="tab" data-tab="storage">Local Storage</div>
                <div class="tab" data-tab="account">Alpha Account</div>
            </div>
            
            <!-- Live Crawler Tab -->
            <div id="live-crawler-tab" class="auto-crawler-section">
                <h3 class="section-title">
                    <i class="fas fa-broadcast-tower"></i>
                    Live Crawling Activity
                </h3>
                <p>Hotspot crawler is running 24/7, continuously discovering and indexing new websites from across the web.</p>
                
                <div class="crawler-controls">
                    <div class="control-card green">
                        <div class="control-title">
                            <i class="fas fa-satellite-dish"></i>
                            Active Crawlers
                        </div>
                        <div class="control-desc">Multiple crawler instances working simultaneously to index the web.</div>
                        <div class="control-status">
                            <div class="status-indicator" id="crawler-1-status"></div>
                            <span>Crawler #1: <span id="crawler-1-text">Active</span></span>
                        </div>
                        <div class="control-status">
                            <div class="status-indicator" id="crawler-2-status"></div>
                            <span>Crawler #2: <span id="crawler-2-text">Active</span></span>
                        </div>
                        <div class="control-status">
                            <div class="status-indicator" id="crawler-3-status"></div>
                            <span>Crawler #3: <span id="crawler-3-text">Active</span></span>
                        </div>
                    </div>
                    
                    <div class="control-card">
                        <div class="control-title">
                            <i class="fas fa-chart-line"></i>
                            Crawling Statistics
                        </div>
                        <div class="control-desc">Real-time statistics from the continuous crawling process.</div>
                        <div style="margin-top: 15px;">
                            <div style="margin-bottom: 10px;">
                                <strong>Current Speed:</strong> <span id="crawl-speed">~3-5 sites/minute</span>
                            </div>
                            <div style="margin-bottom: 10px;">
                                <strong>Uptime:</strong> <span id="crawler-uptime">100%</span>
                            </div>
                            <div style="margin-bottom: 10px;">
                                <strong>Last Discovery:</strong> <span id="last-discovery">Just now</span>
                            </div>
                            <div>
                                <strong>Next Crawl Cycle:</strong> <span id="next-crawl">In progress</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-card yellow">
                        <div class="control-title">
                            <i class="fas fa-search"></i>
                            Discovery Sources
                        </div>
                        <div class="control-desc">Where the crawler finds new websites to index.</div>
                        <div style="margin-top: 15px;">
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="source-google" checked disabled> Google Search Results
                            </div>
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="source-links" checked disabled> Links from indexed pages
                            </div>
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="source-sitemaps" checked disabled> Website Sitemaps
                            </div>
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="source-directory" checked disabled> Web Directories
                            </div>
                        </div>
                    </div>
                </div>
                
                <h3 class="section-title">
                    <i class="fas fa-stream"></i>
                    Live Crawling Feed
                </h3>
                <div class="crawling-feed" id="crawling-feed">
                    <!-- Crawling logs will appear here -->
                </div>
            </div>
            
            <!-- Indexed Data Tab -->
            <div id="indexed-data-tab" class="auto-crawler-section" style="display: none;">
                <h3 class="section-title">
                    <i class="fas fa-database"></i>
                    Indexed Websites
                </h3>
                <p>All websites discovered and indexed by the Hotspot crawler. Data is automatically saved to localStorage.</p>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="total-indexed-count">0</div>
                        <div class="stat-label">Total Sites Indexed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="today-indexed">0</div>
                        <div class="stat-label">Indexed Today</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="unique-domains">0</div>
                        <div class="stat-label">Unique Domains</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="data-size">0KB</div>
                        <div class="stat-label">Data Size</div>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
                    <h4>Recently Indexed Websites</h4>
                    <div>
                        <input type="text" class="url-input" id="search-indexed" placeholder="Search indexed sites..." style="width: 300px;">
                    </div>
                </div>
                
                <div class="indexed-urls-container" id="indexed-urls">
                    <!-- Indexed URLs will appear here -->
                </div>
            </div>
            
            <!-- Crawler Controls Tab -->
            <div id="crawler-controls-tab" class="auto-crawler-section" style="display: none;">
                <h3 class="section-title">
                    <i class="fas fa-sliders-h"></i>
                    Crawler Configuration
                </h3>
                <p>Configure how the persistent crawler discovers and indexes websites.</p>
                
                <div class="crawler-controls">
                    <div class="control-card">
                        <div class="control-title">
                            <i class="fas fa-tachometer-alt"></i>
                            Crawling Speed
                        </div>
                        <div class="control-desc">Adjust how aggressively the crawler indexes websites.</div>
                        <div style="margin-top: 15px;">
                            <label>Crawling Intensity:</label>
                            <select id="crawl-intensity" style="width: 100%; padding: 8px; margin-top: 5px;">
                                <option value="low">Low (1-2 sites/minute)</option>
                                <option value="medium" selected>Medium (3-5 sites/minute)</option>
                                <option value="high">High (6-10 sites/minute)</option>
                                <option value="max">Maximum (10+ sites/minute)</option>
                            </select>
                        </div>
                        <div style="margin-top: 15px;">
                            <label>Parallel Crawlers:</label>
                            <input type="range" id="parallel-crawlers" min="1" max="5" value="3" style="width: 100%; margin-top: 5px;">
                            <div style="text-align: center; font-size: 12px; color: #5f6368;" id="crawlers-count">3 active crawlers</div>
                        </div>
                    </div>
                    
                    <div class="control-card green">
                        <div class="control-title">
                            <i class="fas fa-filter"></i>
                            Content Filters
                        </div>
                        <div class="control-desc">Control what types of content get indexed.</div>
                        <div style="margin-top: 15px;">
                            <div style="margin-bottom: 10px;">
                                <label>Minimum Page Quality:</label>
                                <select id="min-quality" style="width: 100%; padding: 8px; margin-top: 5px;">
                                    <option value="low">Low (all pages)</option>
                                    <option value="medium" selected>Medium (good content)</option>
                                    <option value="high">High (high-quality only)</option>
                                </select>
                            </div>
                            <div>
                                <label>Exclude Domains:</label>
                                <textarea id="exclude-domains" style="width: 100%; padding: 8px; margin-top: 5px; height: 100px; font-size: 12px;" placeholder="Enter domains to exclude, one per line&#10;example: adult-site.com&#10;spam-site.net"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-card red">
                        <div class="control-title">
                            <i class="fas fa-cogs"></i>
                            Advanced Settings
                        </div>
                        <div class="control-desc">Technical configuration for the crawler engine.</div>
                        <div style="margin-top: 15px;">
                            <div style="margin-bottom: 10px;">
                                <label>Max Pages per Domain:</label>
                                <input type="number" id="max-pages-domain" value="50" min="1" max="1000" style="width: 100%; padding: 8px; margin-top: 5px;">
                            </div>
                            <div style="margin-bottom: 10px;">
                                <label>Crawl Depth:</label>
                                <input type="number" id="crawl-depth" value="3" min="1" max="10" style="width: 100%; padding: 8px; margin-top: 5px;">
                            </div>
                            <div>
                                <label>Request Delay (ms):</label>
                                <input type="number" id="request-delay" value="500" min="100" max="5000" style="width: 100%; padding: 8px; margin-top: 5px;">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-primary" id="save-crawler-settings">
                        <i class="fas fa-save"></i>
                        Save Crawler Settings
                    </button>
                    <button class="btn btn-secondary" id="reset-crawler-settings">
                        <i class="fas fa-undo"></i>
                        Reset to Defaults
                    </button>
                </div>
            </div>
            
            <!-- Storage Tab -->
            <div id="storage-tab" class="auto-crawler-section" style="display: none;">
                <h3 class="section-title">
                    <i class="fas fa-hdd"></i>
                    Local Storage Management
                </h3>
                <p>Hotspot automatically saves all indexed websites to your browser's localStorage for persistence.</p>
                
                <div class="storage-status">
                    <h4>Storage Usage</h4>
                    <div class="storage-bar">
                        <div class="storage-fill" id="storage-fill" style="width: 0%"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 14px;">
                        <span>Used: <span id="storage-used">0 KB</span></span>
                        <span>Free: <span id="storage-free">0 KB</span></span>
                        <span>Total: <span id="storage-total">0 KB</span></span>
                    </div>
                </div>
                
                <div class="crawler-controls" style="margin-top: 30px;">
                    <div class="control-card">
                        <div class="control-title">
                            <i class="fas fa-download"></i>
                            Data Export
                        </div>
                        <div class="control-desc">Export indexed websites for backup or analysis.</div>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-primary" style="width: 100%;" id="export-json">
                                <i class="fas fa-file-export"></i>
                                Export as JSON
                            </button>
                        </div>
                        <div style="margin-top: 10px;">
                            <button class="btn btn-secondary" style="width: 100%;" id="export-csv">
                                <i class="fas fa-file-csv"></i>
                                Export as CSV
                            </button>
                        </div>
                    </div>
                    
                    <div class="control-card yellow">
                        <div class="control-title">
                            <i class="fas fa-upload"></i>
                            Data Import
                        </div>
                        <div class="control-desc">Import previously exported data or add websites manually.</div>
                        <div style="margin-top: 15px;">
                            <input type="file" id="import-file" accept=".json,.csv" style="width: 100%; padding: 8px; margin-bottom: 10px;">
                            <button class="btn btn-primary" style="width: 100%;" id="import-data">
                                <i class="fas fa-file-import"></i>
                                Import Data
                            </button>
                        </div>
                    </div>
                    
                    <div class="control-card red">
                        <div class="control-title">
                            <i class="fas fa-trash"></i>
                            Data Management
                        </div>
                        <div class="control-desc">Manage and clean up stored data.</div>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-danger" style="width: 100%; margin-bottom: 10px;" id="clear-old-data">
                                <i class="fas fa-calendar-times"></i>
                                Clear Old Data (>30 days)
                            </button>
                            <button class="btn btn-danger" style="width: 100%;" id="clear-all-data">
                                <i class="fas fa-broom"></i>
                                Clear All Indexed Data
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Alpha Account Tab -->
            <div id="account-tab" class="auto-crawler-section" style="display: none;">
                <h3 class="section-title">
                    <i class="fas fa-user-shield"></i>
                    Alpha Account Settings
                </h3>
                <p>Manage your Alpha administrator account and crawler privileges.</p>
                
                <div class="crawler-controls">
                    <div class="control-card">
                        <div class="control-title">
                            <i class="fas fa-user-cog"></i>
                            Account Information
                        </div>
                        <div class="control-desc">
                            <div style="margin-bottom: 15px;">
                                <strong>Account Type:</strong> Alpha Administrator<br>
                                <strong>Joined:</strong> January 15, 2023<br>
                                <strong>Account ID:</strong> ALPHA-001
                            </div>
                            <div>
                                <strong>Crawler Privileges:</strong>
                                <ul style="margin-top: 10px; padding-left: 20px;">
                                    <li>Full crawler control</li>
                                    <li>24/7 crawling access</li>
                                    <li>Unlimited storage</li>
                                    <li>Priority indexing</li>
                                    <li>Advanced analytics</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-card green">
                        <div class="control-title">
                            <i class="fas fa-chart-pie"></i>
                            Crawler Usage
                        </div>
                        <div class="control-desc">Your crawler usage statistics for the current month.</div>
                        <div style="margin-top: 15px;">
                            <div style="margin-bottom: 10px;">
                                <strong>Websites Indexed:</strong> <span id="account-indexed">0</span>
                            </div>
                            <div style="margin-bottom: 10px;">
                                <strong>Crawler Runtime:</strong> <span id="account-runtime">0 hours</span>
                            </div>
                            <div style="margin-bottom: 10px;">
                                <strong>Storage Used:</strong> <span id="account-storage">0 KB</span>
                            </div>
                            <div>
                                <strong>Last Active:</strong> <span id="account-last-active">Just now</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-card yellow">
                        <div class="control-title">
                            <i class="fas fa-bell"></i>
                            Notifications
                        </div>
                        <div class="control-desc">Configure crawler notifications and alerts.</div>
                        <div style="margin-top: 15px;">
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="notif-new-sites" checked> New sites discovered
                            </div>
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="notif-crawler-error" checked> Crawler errors
                            </div>
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="notif-storage-warning" checked> Storage warnings
                            </div>
                            <div style="margin-bottom: 8px;">
                                <input type="checkbox" id="notif-daily-report" checked> Daily crawl report
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Results Page -->
        <div id="results-page" style="display: none;">
            <div class="results-header">
                <div class="results-logo" id="results-home-link">
                    <span style="color: #ea4335;">H</span>
                    <span style="color: #4285f4;">o</span>
                    <span style="color: #fbbc05;">t</span>
                    <span style="color: #34a853;">s</span>
                    <span style="color: #ea4335;">p</span>
                    <span style="color: #4285f4;">o</span>
                    <span style="color: #fbbc05;">t</span>
                </div>
                
                <div class="results-search-container">
                    <div class="search-box">
                        <svg class="search-icon" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                        </svg>
                        <input type="text" class="search-input" id="results-search-input" placeholder="Search Hotspot or type a URL">
                    </div>
                </div>
                
                <div class="alpha-account">
                    <div class="alpha-badge">Î±</div>
                </div>
            </div>
            
            <div class="results-main">
                <div class="result-stats" id="result-stats">About 0 results (0.00 seconds)</div>
                
                <div id="search-results">
                    <!-- Search results will appear here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Loading Indicator -->
    <div class="loading" id="search-loading" style="display: none;">
        <div class="spinner"></div>
        <p>Searching Hotspot...</p>
    </div>
    
    <!-- Footer -->
    <div class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Hotspot</h4>
                <div class="footer-links">
                    <a href="#">About</a>
                    <a href="#">Technology</a>
                    <a href="#">24/7 Crawling</a>
                    <a href="#">How Search works</a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Privacy</h4>
                <div class="footer-links">
                    <a href="#">Privacy</a>
                    <a href="#">Terms</a>
                    <a href="#">Local Storage</a>
                    <a href="#">Data Export</a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Crawler</h4>
                <div class="footer-links">
                    <a href="#">Live Status</a>
                    <a href="#">Statistics</a>
                    <a href="#">Settings</a>
                    <a href="#">Alpha API</a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Account</h4>
                <div class="footer-links">
                    <a href="#">Alpha Account</a>
                    <a href="#">Crawler Logs</a>
                    <a href="#">Storage</a>
                    <a href="#">Support</a>
                </div>
            </div>
        </div>
        
        <div class="copyright">
            <p>Â© 2023 Hotspot Search. Always-on web crawler with localStorage persistence.</p>
            <p>Sites indexed: <span id="footer-indexed-count">0</span> â€¢ Last crawled: <span id="footer-last-crawled">Just now</span></p>
        </div>
    </div>
    
    <script>
        // Hotspot Persistent Crawler System
        class PersistentCrawler {
            constructor() {
                this.isRunning = true;
                this.crawlersActive = 3;
                this.indexInterval = null;
                this.logInterval = null;
                this.crawlSpeed = "medium";
                this.lastCrawlTime = Date.now();
                this.crawlLogs = [];
                this.maxLogs = 50;
                this.uniqueDomains = new Set();
                
                // Load from localStorage
                this.loadFromStorage();
                
                // Start persistent crawling
                this.startPersistentCrawling();
                
                // Update stats every 5 seconds
                setInterval(() => this.updateLiveStats(), 5000);
            }
            
            loadFromStorage() {
                // Load indexed sites from localStorage
                const storedSites = localStorage.getItem('hotspot_indexed_sites');
                if (storedSites) {
                    this.indexedSites = JSON.parse(storedSites);
                    console.log(`Loaded ${this.indexedSites.length} sites from localStorage`);
                } else {
                    this.indexedSites = this.getInitialSites();
                    this.saveToStorage();
                }
                
                // Load crawler settings
                const storedSettings = localStorage.getItem('hotspot_crawler_settings');
                if (storedSettings) {
                    const settings = JSON.parse(storedSettings);
                    this.crawlSpeed = settings.speed || "medium";
                    this.crawlersActive = settings.crawlers || 3;
                }
                
                // Calculate unique domains
                this.calculateUniqueDomains();
            }
            
            saveToStorage() {
                // Save indexed sites to localStorage
                localStorage.setItem('hotspot_indexed_sites', JSON.stringify(this.indexedSites));
                
                // Save crawler settings
                const settings = {
                    speed: this.crawlSpeed,
                    crawlers: this.crawlersActive,
                    lastUpdated: new Date().toISOString()
                };
                localStorage.setItem('hotspot_crawler_settings', JSON.stringify(settings));
            }
            
            getInitialSites() {
                return [
                    {
                        url: "https://www.example.com",
                        title: "Example Domain",
                        description: "This domain is for use in illustrative examples in documents.",
                        keywords: ["example", "domain", "website", "test"],
                        category: "general",
                        indexedDate: new Date().toISOString(),
                        source: "initial"
                    },
                    {
                        url: "https://en.wikipedia.org/wiki/Web_crawler",
                        title: "Web crawler - Wikipedia",
                        description: "A Web crawler is an Internet bot that systematically browses the World Wide Web.",
                        keywords: ["web crawler", "spider", "internet bot", "indexing"],
                        category: "technology",
                        indexedDate: new Date().toISOString(),
                        source: "initial"
                    },
                    {
                        url: "https://www.searchenginejournal.com",
                        title: "Search Engine Journal",
                        description: "SEO, Search Marketing News and Tutorials for the marketer community.",
                        keywords: ["SEO", "search engine", "marketing", "optimization"],
                        category: "business",
                        indexedDate: new Date().toISOString(),
                        source: "initial"
                    },
                    {
                        url: "https://developers.google.com/search",
                        title: "Google Search Central",
                        description: "Resources for web developers and site owners.",
                        keywords: ["google", "search", "developers", "optimization"],
                        category: "technology",
                        indexedDate: new Date().toISOString(),
                        source: "initial"
                    },
                    {
                        url: "https://www.mozilla.org",
                        title: "Mozilla - Home of Firefox",
                        description: "Mozilla is the not-for-profit behind the Firefox browser.",
                        keywords: ["mozilla", "firefox", "browser", "open source"],
                        category: "technology",
                        indexedDate: new Date().toISOString(),
                        source: "initial"
                    }
                ];
            }
            
            calculateUniqueDomains() {
                this.uniqueDomains.clear();
                this.indexedSites.forEach(site => {
                    try {
                        const domain = new URL(site.url).hostname;
                        this.uniqueDomains.add(domain);
                    } catch (e) {
                        // Invalid URL, skip
                    }
                });
            }
            
            startPersistentCrawling() {
                // Clear any existing intervals
                if (this.indexInterval) clearInterval(this.indexInterval);
                if (this.logInterval) clearInterval(this.logInterval);
                
                // Start indexing new sites periodically
                this.indexInterval = setInterval(() => {
                    this.indexNewSite();
                }, this.getCrawlInterval());
                
                // Add crawl logs periodically
                this.logInterval = setInterval(() => {
                    this.addCrawlLog();
                }, 3000);
                
                // Initial log
                this.addCrawlLog("Crawler system initialized and running", "info");
            }
            
            getCrawlInterval() {
                switch(this.crawlSpeed) {
                    case "low": return 60000; // 1 minute
                    case "medium": return 30000; // 30 seconds
                    case "high": return 15000; // 15 seconds
                    case "max": return 7000; // 7 seconds
                    default: return 30000;
                }
            }
            
            indexNewSite() {
                if (!this.isRunning) return;
                
                // Generate a fake website to index
                const categories = ["technology", "news", "science", "business", "education", "entertainment", "sports", "health"];
                const techDomains = ["techcrunch.com", "wired.com", "theverge.com", "arstechnica.com", "github.com", "stackoverflow.com", "medium.com", "dev.to"];
                const newsDomains = ["cnn.com", "bbc.com", "nytimes.com", "reuters.com", "bloomberg.com", "theguardian.com"];
                const eduDomains = ["wikipedia.org", "khanacademy.org", "coursera.org", "edx.org", "mit.edu", "harvard.edu"];
                
                const category = categories[Math.floor(Math.random() * categories.length)];
                let domain;
                
                switch(category) {
                    case "technology": domain = techDomains[Math.floor(Math.random() * techDomains.length)]; break;
                    case "news": domain = newsDomains[Math.floor(Math.random() * newsDomains.length)]; break;
                    case "education": domain = eduDomains[Math.floor(Math.random() * eduDomains.length)]; break;
                    default: domain = `website-${Date.now()}.com`;
                }
                
                const titles = {
                    technology: [
                        "New Breakthrough in Artificial Intelligence",
                        "The Future of Web Development in 2023",
                        "How Machine Learning is Changing Industries",
                        "Cybersecurity Threats You Need to Know About",
                        "The Rise of Quantum Computing"
                    ],
                    news: [
                        "Global Summit Addresses Climate Change",
                        "Economic Recovery Shows Strong Progress",
                        "New Political Agreement Reached",
                        "Breakthrough in Medical Research",
                        "Sports Championship Breaks Records"
                    ],
                    science: [
                        "New Discovery in Space Exploration",
                        "Breakthrough in Renewable Energy Technology",
                        "Genetic Research Offers New Hope",
                        "Climate Study Reveals Critical Findings",
                        "Ocean Exploration Discovers New Species"
                    ]
                };
                
                const descriptions = [
                    "A comprehensive analysis of the latest developments and their implications for the future.",
                    "Experts weigh in on this groundbreaking discovery and what it means for various industries.",
                    "This in-depth report covers all aspects of the topic with insights from leading professionals.",
                    "Learn how this innovation is transforming the landscape and creating new opportunities.",
                    "A detailed examination of the facts, figures, and future projections in this rapidly evolving field."
                ];
                
                const keywords = {
                    technology: ["AI", "machine learning", "technology", "innovation", "digital"],
                    news: ["news", "current events", "world", "politics", "economy"],
                    science: ["science", "research", "discovery", "experiment", "data"],
                    business: ["business", "finance", "market", "investment", "economy"],
                    education: ["education", "learning", "courses", "online", "knowledge"]
                };
                
                const titleList = titles[category] || ["New Website Discovered by Hotspot Crawler"];
                const title = titleList[Math.floor(Math.random() * titleList.length)];
                const description = descriptions[Math.floor(Math.random() * descriptions.length)];
                const keywordList = keywords[category] || ["website", "content", "information"];
                
                const newSite = {
                    url: `https://www.${domain}/article-${Date.now()}`,
                    title: title,
                    description: description,
                    keywords: keywordList,
                    category: category,
                    indexedDate: new Date().toISOString(),
                    source: "auto-crawler"
                };
                
                // Check if site already exists
                const exists = this.indexedSites.some(site => site.url === newSite.url);
                if (!exists) {
                    this.indexedSites.push(newSite);
                    this.uniqueDomains.add(domain);
                    this.saveToStorage();
                    this.lastCrawlTime = Date.now();
                    
                    // Add to crawl log
                    this.addCrawlLog(`Indexed: ${newSite.url}`, "success");
                    
                    // Update UI
                    updateCrawlerUI();
                }
            }
            
            addCrawlLog(message, type = "info") {
                const logEntry = {
                    time: new Date().toLocaleTimeString(),
                    message: message,
                    type: type
                };
                
                this.crawlLogs.unshift(logEntry);
                
                // Keep only recent logs
                if (this.crawlLogs.length > this.maxLogs) {
                    this.crawlLogs.pop();
                }
                
                // Update UI if on live crawler tab
                updateCrawlLogsUI();
            }
            
            updateLiveStats() {
                // Update crawler status indicators
                updateCrawlerStatusUI();
            }
            
            toggleCrawler() {
                this.isRunning = !this.isRunning;
                if (this.isRunning) {
                    this.startPersistentCrawling();
                    this.addCrawlLog("Crawler resumed", "info");
                } else {
                    clearInterval(this.indexInterval);
                    clearInterval(this.logInterval);
                    this.addCrawlLog("Crawler paused", "error");
                }
                return this.isRunning;
            }
            
            setCrawlerSpeed(speed) {
                this.crawlSpeed = speed;
                this.saveToStorage();
                
                // Restart with new interval
                if (this.isRunning) {
                    clearInterval(this.indexInterval);
                    this.indexInterval = setInterval(() => {
                        this.indexNewSite();
                    }, this.getCrawlInterval());
                }
                
                this.addCrawlLog(`Crawler speed set to: ${speed}`, "info");
            }
            
            setCrawlerCount(count) {
                this.crawlersActive = count;
                this.saveToStorage();
                this.addCrawlLog(`Active crawlers set to: ${count}`, "info");
            }
            
            getStats() {
                const today = new Date().toISOString().split('T')[0];
                const todayIndexed = this.indexedSites.filter(site => 
                    site.indexedDate.startsWith(today)
                ).length;
                
                // Calculate storage size
                const jsonString = JSON.stringify(this.indexedSites);
                const bytes = new TextEncoder().encode(jsonString).length;
                const kilobytes = bytes / 1024;
                
                return {
                    total: this.indexedSites.length,
                    today: todayIndexed,
                    uniqueDomains: this.uniqueDomains.size,
                    dataSize: kilobytes.toFixed(2) + " KB",
                    isRunning: this.isRunning,
                    crawlersActive: this.crawlersActive,
                    crawlSpeed: this.crawlSpeed,
                    lastCrawl: this.lastCrawlTime
                };
            }
            
            exportData(format = 'json') {
                const stats = this.getStats();
                const exportData = {
                    metadata: {
                        exportDate: new Date().toISOString(),
                        totalSites: stats.total,
                        uniqueDomains: stats.uniqueDomains.size,
                        crawlerVersion: "1.0.0"
                    },
                    sites: this.indexedSites
                };
                
                if (format === 'json') {
                    return JSON.stringify(exportData, null, 2);
                } else if (format === 'csv') {
                    // Convert to CSV
                    let csv = 'URL,Title,Description,Category,Indexed Date,Source\n';
                    this.indexedSites.forEach(site => {
                        const row = [
                            `"${site.url}"`,
                            `"${site.title.replace(/"/g, '""')}"`,
                            `"${site.description.replace(/"/g, '""')}"`,
                            `"${site.category}"`,
                            `"${site.indexedDate}"`,
                            `"${site.source}"`
                        ].join(',');
                        csv += row + '\n';
                    });
                    return csv;
                }
            }
            
            clearOldData(days = 30) {
                const cutoffDate = new Date();
                cutoffDate.setDate(cutoffDate.getDate() - days);
                
                const originalCount = this.indexedSites.length;
                this.indexedSites = this.indexedSites.filter(site => {
                    const siteDate = new Date(site.indexedDate);
                    return siteDate > cutoffDate;
                });
                
                const removedCount = originalCount - this.indexedSites.length;
                this.calculateUniqueDomains();
                this.saveToStorage();
                
                this.addCrawlLog(`Cleared ${removedCount} sites older than ${days} days`, "info");
                return removedCount;
            }
            
            clearAllData() {
                const count = this.indexedSites.length;
                this.indexedSites = this.getInitialSites();
                this.calculateUniqueDomains();
                this.saveToStorage();
                
                this.addCrawlLog(`Cleared all data (${count} sites removed)`, "error");
                return count;
            }
        }

        // Initialize the persistent crawler
        const hotspotCrawler = new PersistentCrawler();

        // Alpha Account Data
        const alphaAccount = {
            name: "Alpha User",
            email: "alpha@hotspot.com",
            type: "Administrator",
            id: "ALPHA-001",
            joined: "2023-01-15",
            privileges: ["Full crawler control", "24/7 crawling access", "Unlimited storage", "Priority indexing", "Advanced analytics"],
            usage: {
                sitesIndexed: 0,
                runtime: 0,
                storage: 0
            }
        };

        // DOM Elements
        const mainContent = document.getElementById('main-content');
        const adminPanel = document.getElementById('admin-panel');
        const accountMenu = document.getElementById('account-menu');
        const accountToggle = document.getElementById('account-toggle');
        const toggleCrawlerBtn = document.getElementById('toggle-crawler');
        const adminLink = document.getElementById('admin-link');
        const homeLink = document.getElementById('home-link');
        const searchLink = document.getElementById('search-link');
        const searchInput = document.getElementById('search-input');
        const resultsSearchInput = document.getElementById('results-search-input');
        const searchBtn = document.getElementById('search-btn');
        const liveCrawlBtn = document.getElementById('live-crawl-btn');
        const resultsPage = document.getElementById('results-page');
        const searchResults = document.getElementById('search-results');
        const resultStats = document.getElementById('result-stats');
        const searchLoading = document.getElementById('search-loading');
        const resultsHomeLink = document.getElementById('results-home-link');
        const crawlerStatusIndicator = document.getElementById('crawler-status-indicator');
        const crawlerStatusText = document.getElementById('crawler-status-text');
        const crawlerCount = document.getElementById('crawler-count');

        // Admin Elements
        const crawlingFeed = document.getElementById('crawling-feed');
        const indexedUrlsContainer = document.getElementById('indexed-urls');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.auto-crawler-section');

        // Update UI Functions
        function updateCrawlerUI() {
            const stats = hotspotCrawler.getStats();
            
            // Update top indicator
            crawlerCount.textContent = stats.total;
            crawlerStatusText.textContent = stats.isRunning ? "RUNNING" : "PAUSED";
            crawlerStatusIndicator.style.backgroundColor = stats.isRunning ? "#4caf50" : "#f44336";
            crawlerStatusIndicator.style.animation = stats.isRunning ? "pulse 2s infinite" : "none";
            
            // Update footer
            document.getElementById('footer-indexed-count').textContent = stats.total;
            document.getElementById('footer-last-crawled').textContent = "Just now";
            
            // Update stats in indexed data tab
            document.getElementById('total-indexed-count').textContent = stats.total;
            document.getElementById('today-indexed').textContent = stats.today;
            document.getElementById('unique-domains').textContent = stats.uniqueDomains;
            document.getElementById('data-size').textContent = stats.dataSize;
            
            // Update storage display
            updateStorageDisplay();
            
            // Update crawler status indicators
            document.getElementById('crawler-1-text').textContent = stats.isRunning ? "Active" : "Inactive";
            document.getElementById('crawler-1-status').className = `status-indicator ${stats.isRunning ? '' : 'inactive'}`;
            document.getElementById('crawler-2-text').textContent = stats.isRunning ? "Active" : "Inactive";
            document.getElementById('crawler-2-status').className = `status-indicator ${stats.isRunning ? '' : 'inactive'}`;
            document.getElementById('crawler-3-text').textContent = stats.isRunning ? "Active" : "Inactive";
            document.getElementById('crawler-3-status').className = `status-indicator ${stats.isRunning ? '' : 'inactive'}`;
            
            // Update crawl speed display
            const speedMap = { low: "1-2 sites/min", medium: "3-5 sites/min", high: "6-10 sites/min", max: "10+ sites/min" };
            document.getElementById('crawl-speed').textContent = speedMap[stats.crawlSpeed] || "3-5 sites/min";
            
            // Update account stats
            document.getElementById('account-indexed').textContent = stats.total;
            document.getElementById('account-storage').textContent = stats.dataSize;
            document.getElementById('account-last-active').textContent = "Just now";
            
            // Update indexed sites list
            updateIndexedSitesList();
        }

        function updateCrawlerStatusUI() {
            const stats = hotspotCrawler.getStats();
            
            // Update crawler uptime (simulated)
            document.getElementById('crawler-uptime').textContent = "100%";
            
            // Update last discovery time
            const lastCrawlTime = new Date(stats.lastCrawl);
            const now = new Date();
            const diffMinutes = Math.floor((now - lastCrawlTime) / (1000 * 60));
            
            if (diffMinutes < 1) {
                document.getElementById('last-discovery').textContent = "Just now";
            } else if (diffMinutes === 1) {
                document.getElementById('last-discovery').textContent = "1 minute ago";
            } else {
                document.getElementById('last-discovery').textContent = `${diffMinutes} minutes ago`;
            }
            
            // Update next crawl
            document.getElementById('next-crawl').textContent = stats.isRunning ? "In progress" : "Paused";
        }

        function updateCrawlLogsUI() {
            crawlingFeed.innerHTML = '';
            
            hotspotCrawler.crawlLogs.forEach(log => {
                const logItem = document.createElement('div');
                logItem.className = `crawl-log-item ${log.type}`;
                logItem.innerHTML = `
                    <div style="display: flex; justify-content: space-between;">
                        <span style="font-weight: 500;">${log.message}</span>
                        <span style="color: #5f6368; font-size: 12px;">${log.time}</span>
                    </div>
                `;
                crawlingFeed.appendChild(logItem);
            });
        }

        function updateIndexedSitesList() {
            const stats = hotspotCrawler.getStats();
            const sites = hotspotCrawler.indexedSites;
            
            indexedUrlsContainer.innerHTML = '';
            
            // Show most recent sites first
            sites.slice().reverse().slice(0, 50).forEach(site => {
                const urlItem = document.createElement('div');
                urlItem.className = 'url-item';
                
                const indexedDate = new Date(site.indexedDate);
                const timeAgo = getTimeAgo(indexedDate);
                
                urlItem.innerHTML = `
                    <div>
                        <div><strong>${site.title}</strong></div>
                        <div style="font-size: 12px; color: #5f6368; word-break: break-all;">${site.url}</div>
                        <div style="font-size: 11px; color: #9aa0a6; margin-top: 5px;">
                            Category: ${site.category} â€¢ Source: ${site.source} â€¢ ${timeAgo}
                        </div>
                    </div>
                    <span class="url-stats">${site.keywords.length} keywords</span>
                `;
                indexedUrlsContainer.appendChild(urlItem);
            });
            
            // If no sites
            if (sites.length === 0) {
                indexedUrlsContainer.innerHTML = '<div class="url-item" style="text-align: center; color: #5f6368;">No websites indexed yet. The crawler will discover sites soon.</div>';
            }
        }

        function updateStorageDisplay() {
            // Calculate storage usage
            const stats = hotspotCrawler.getStats();
            const dataSize = parseFloat(stats.dataSize);
            
            // Simulate storage limits (5MB max for demo)
            const maxStorage = 5120; // 5MB in KB
            const usedStorage = Math.min(dataSize, maxStorage);
            const freeStorage = maxStorage - usedStorage;
            const percentUsed = (usedStorage / maxStorage) * 100;
            
            document.getElementById('storage-fill').style.width = `${percentUsed}%`;
            document.getElementById('storage-used').textContent = usedStorage.toFixed(2) + " KB";
            document.getElementById('storage-free').textContent = freeStorage.toFixed(2) + " KB";
            document.getElementById('storage-total').textContent = maxStorage.toFixed(2) + " KB";
            
            // Update account storage
            document.getElementById('account-storage').textContent = usedStorage.toFixed(2) + " KB";
        }

        function getTimeAgo(date) {
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / (1000 * 60));
            const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
            const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
            
            if (diffMins < 1) {
                return "Just now";
            } else if (diffMins < 60) {
                return `${diffMins} minute${diffMins === 1 ? '' : 's'} ago`;
            } else if (diffHours < 24) {
                return `${diffHours} hour${diffHours === 1 ? '' : 's'} ago`;
            } else {
                return `${diffDays} day${diffDays === 1 ? '' : 's'} ago`;
            }
        }

        // Perform Search
        function performSearch(query) {
            searchLoading.style.display = 'block';
            
            // Simulate search delay
            setTimeout(() => {
                const sites = hotspotCrawler.indexedSites;
                const results = sites.filter(site => {
                    const searchText = (site.title + ' ' + site.description + ' ' + site.keywords.join(' ')).toLowerCase();
                    return searchText.includes(query.toLowerCase());
                });
                
                // Display results
                displayResults(results, query);
                searchLoading.style.display = 'none';
            }, 600);
        }

        // Display Search Results
        function displayResults(results, query) {
            searchResults.innerHTML = '';
            
            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="result-item">
                        <h3>No results found for "${query}"</h3>
                        <p>Try different keywords or check the spelling.</p>
                        <p>The Hotspot crawler is continuously discovering new sites - check back soon!</p>
                    </div>
                `;
                resultStats.textContent = `About 0 results (0.60 seconds)`;
                return;
            }
            
            resultStats.textContent = `About ${results.length} results (0.60 seconds)`;
            
            results.slice().reverse().forEach((result, index) => {
                const resultElement = document.createElement('div');
                resultElement.className = 'result-item';
                
                const timeAgo = getTimeAgo(new Date(result.indexedDate));
                
                resultElement.innerHTML = `
                    <div class="result-url">${result.url}</div>
                    <a href="${result.url}" class="result-title" target="_blank">${highlightText(result.title, query)}</a>
                    <div class="result-description">${highlightText(result.description, query)}</div>
                    <div class="result-meta">
                        <span>Category: ${result.category}</span>
                        <span>Source: ${result.source}</span>
                        <span>Indexed: ${timeAgo}</span>
                    </div>
                `;
                
                searchResults.appendChild(resultElement);
            });
        }

        // Highlight search terms in text
        function highlightText(text, query) {
            if (!query) return text;
            
            const queryTerms = query.toLowerCase().split(' ');
            let highlightedText = text;
            
            queryTerms.forEach(term => {
                if (term.length < 2) return;
                const regex = new RegExp(`(${term})`, 'gi');
                highlightedText = highlightedText.replace(regex, `<span style="background-color: #fff8c5;">$1</span>`);
            });
            
            return highlightedText;
        }

        // Event Listeners
        searchBtn.addEventListener('click', () => {
            const query = searchInput.value.trim();
            if (!query) return;
            
            // Switch to results page
            mainContent.style.paddingTop = '0';
            document.getElementById('main-logo').style.display = 'none';
            document.querySelector('.search-container').style.display = 'none';
            document.querySelector('.buttons').style.display = 'none';
            adminPanel.style.display = 'none';
            resultsPage.style.display = 'block';
            
            performSearch(query);
        });

        liveCrawlBtn.addEventListener('click', () => {
            showAdminPanel('live-crawler');
        });

        adminLink.addEventListener('click', (e) => {
            e.preventDefault();
            showAdminPanel('live-crawler');
        });

        homeLink.addEventListener('click', (e) => {
            e.preventDefault();
            resetToHomePage();
        });

        searchLink.addEventListener('click', (e) => {
            e.preventDefault();
            searchInput.focus();
        });

        resultsHomeLink.addEventListener('click', () => {
            resetToHomePage();
        });

        // Account menu toggle
        accountToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            accountMenu.classList.toggle('active');
        });

        // Toggle crawler from account menu
        toggleCrawlerBtn.addEventListener('click', () => {
            const isRunning = hotspotCrawler.toggleCrawler();
            toggleCrawlerBtn.innerHTML = `<i class="fas fa-power-off"></i><span>${isRunning ? 'Stop' : 'Start'} Auto-Crawler</span>`;
            updateCrawlerUI();
        });

        // Close account menu when clicking outside
        document.addEventListener('click', () => {
            accountMenu.classList.remove('active');
        });

        // Tab switching
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                showAdminPanel(tabId);
            });
        });

        // Crawler controls
        document.getElementById('crawl-intensity').addEventListener('change', function() {
            hotspotCrawler.setCrawlerSpeed(this.value);
            updateCrawlerUI();
        });

        document.getElementById('parallel-crawlers').addEventListener('input', function() {
            const count = parseInt(this.value);
            document.getElementById('crawlers-count').textContent = `${count} active crawlers`;
            hotspotCrawler.setCrawlerCount(count);
            updateCrawlerUI();
        });

        document.getElementById('save-crawler-settings').addEventListener('click', function() {
            // Save all settings
            const intensity = document.getElementById('crawl-intensity').value;
            const crawlers = parseInt(document.getElementById('parallel-crawlers').value);
            
            hotspotCrawler.setCrawlerSpeed(intensity);
            hotspotCrawler.setCrawlerCount(crawlers);
            
            hotspotCrawler.addCrawlLog("Crawler settings saved", "success");
            alert("Crawler settings saved successfully!");
        });

        // Data export/import
        document.getElementById('export-json').addEventListener('click', function() {
            const data = hotspotCrawler.exportData('json');
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `hotspot-index-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            hotspotCrawler.addCrawlLog("Data exported as JSON", "success");
        });

        document.getElementById('export-csv').addEventListener('click', function() {
            const data = hotspotCrawler.exportData('csv');
            const blob = new Blob([data], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `hotspot-index-${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            hotspotCrawler.addCrawlLog("Data exported as CSV", "success");
        });

        document.getElementById('clear-old-data').addEventListener('click', function() {
            if (confirm("Clear all data older than 30 days?")) {
                const removed = hotspotCrawler.clearOldData(30);
                updateCrawlerUI();
                alert(`Cleared ${removed} old sites from storage.`);
            }
        });

        document.getElementById('clear-all-data').addEventListener('click', function() {
            if (confirm("WARNING: This will clear ALL indexed data except initial sites. Continue?")) {
                const removed = hotspotCrawler.clearAllData();
                updateCrawlerUI();
                alert(`Cleared ${removed} sites from storage. Only initial sites remain.`);
            }
        });

        // Enter key for search
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchBtn.click();
            }
        });

        resultsSearchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const query = resultsSearchInput.value.trim();
                if (query) {
                    performSearch(query);
                }
            }
        });

        // Show admin panel with specific tab
        function showAdminPanel(tabId) {
            mainContent.style.paddingTop = '30px';
            document.getElementById('main-logo').style.display = 'none';
            document.querySelector('.search-container').style.display = 'none';
            document.querySelector('.buttons').style.display = 'none';
            adminPanel.style.display = 'block';
            resultsPage.style.display = 'none';
            
            // Switch to specified tab
            tabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.style.display = 'none');
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            document.getElementById(`${tabId}-tab`).style.display = 'block';
            
            // Update UI for the tab
            updateCrawlerUI();
            if (tabId === 'live-crawler') {
                updateCrawlLogsUI();
            }
        }

        // Reset to home page
        function resetToHomePage() {
            mainContent.style.paddingTop = '100px';
            document.getElementById('main-logo').style.display = 'flex';
            document.querySelector('.search-container').style.display = 'block';
            document.querySelector('.buttons').style.display = 'flex';
            adminPanel.style.display = 'none';
            resultsPage.style.display = 'none';
            searchLoading.style.display = 'none';
            accountMenu.classList.remove('active');
        }

        // Initialize
        updateCrawlerUI();
        updateCrawlLogsUI();

        // Simulate runtime counter
        let runtimeHours = 0;
        setInterval(() => {
            if (hotspotCrawler.isRunning) {
                runtimeHours += 0.1;
                document.getElementById('account-runtime').textContent = runtimeHours.toFixed(1) + " hours";
            }
        }, 360000); // Update every 6 minutes

        // Check for localStorage support
        if (!window.localStorage) {
            alert("Warning: Your browser doesn't support localStorage. Hotspot won't be able to save indexed sites.");
        }
    </script>
</body>
</html>
